var Chrono=function(t){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n,s,r={exports:{}};r.exports=(n="month",s="quarter",function(t,e){var r=e.prototype;r.quarter=function(t){return this.$utils().u(t)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(t-1))};var i=r.add;r.add=function(t,e){return t=Number(t),this.$utils().p(e)===s?this.add(3*t,n):i.bind(this)(t,e)};var a=r.startOf;r.startOf=function(t,e){var r=this.$utils(),i=!!r.u(e)||e;if(r.p(t)===s){var o=this.quarter()-1;return i?this.month(3*o).startOf(n).startOf("day"):this.month(3*o+2).endOf(n).endOf("day")}return a.bind(this)(t,e)}});var i=e(r.exports),a={exports:{}};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,s="millisecond",r="second",i="minute",a="hour",o="day",u="week",l="month",h="quarter",d="year",c="date",f="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},p=function(t,e,n){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(n)+t},T={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),s=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+p(s,2,"0")+":"+p(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var s=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(s,l),i=n-r<0,a=e.clone().add(s+(i?-1:1),l);return+(-(s+(n-r)/(i?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:u,d:o,D:c,h:a,m:i,s:r,ms:s,Q:h}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",x={};x[w]=y;var $=function(t){return t instanceof M},S=function t(e,n,s){var r;if(!e)return w;if("string"==typeof e){var i=e.toLowerCase();x[i]&&(r=i),n&&(x[i]=n,r=i);var a=e.split("-");if(!r&&a.length>1)return t(a[0])}else{var o=e.name;x[o]=e,r=o}return!s&&r&&(w=r),r||!s&&w},A=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new M(n)},D=T;D.l=S,D.i=$,D.w=function(t,e){return A(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function y(t){this.$L=S(t.locale,null,!0),this.parse(t)}var p=y.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(m);if(s){var r=s[2]-1||0,i=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return D},p.isValid=function(){return!(this.$d.toString()===f)},p.isSame=function(t,e){var n=A(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return A(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<A(t)},p.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var n=this,s=!!D.u(e)||e,h=D.p(t),f=function(t,e){var r=D.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return s?r:r.endOf(o)},m=function(t,e){return D.w(n.toDate()[t].apply(n.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,y=this.$M,p=this.$D,T="set"+(this.$u?"UTC":"");switch(h){case d:return s?f(1,0):f(31,11);case l:return s?f(1,y):f(0,y+1);case u:var w=this.$locale().weekStart||0,x=(g<w?g+7:g)-w;return f(s?p-x:p+(6-x),y);case o:case c:return m(T+"Hours",0);case a:return m(T+"Minutes",1);case i:return m(T+"Seconds",2);case r:return m(T+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,e){var n,u=D.p(t),h="set"+(this.$u?"UTC":""),f=(n={},n[o]=h+"Date",n[c]=h+"Date",n[l]=h+"Month",n[d]=h+"FullYear",n[a]=h+"Hours",n[i]=h+"Minutes",n[r]=h+"Seconds",n[s]=h+"Milliseconds",n)[u],m=u===o?this.$D+(e-this.$W):e;if(u===l||u===d){var g=this.clone().set(c,1);g.$d[f](m),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[D.p(t)]()},p.add=function(s,h){var c,f=this;s=Number(s);var m=D.p(h),g=function(t){var e=A(f);return D.w(e.date(e.date()+Math.round(t*s)),f)};if(m===l)return this.set(l,this.$M+s);if(m===d)return this.set(d,this.$y+s);if(m===o)return g(1);if(m===u)return g(7);var y=(c={},c[i]=e,c[a]=n,c[r]=t,c)[m]||1,p=this.$d.getTime()+s*y;return D.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var s=t||"YYYY-MM-DDTHH:mm:ssZ",r=D.z(this),i=this.$H,a=this.$m,o=this.$M,u=n.weekdays,l=n.months,h=function(t,n,r,i){return t&&(t[n]||t(e,s))||r[n].slice(0,i)},d=function(t){return D.s(i%12||12,t,"0")},c=n.meridiem||function(t,e,n){var s=t<12?"AM":"PM";return n?s.toLowerCase():s},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:h(n.monthsShort,o,l,3),MMMM:h(l,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,u,2),ddd:h(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:D.s(i,2,"0"),h:d(1),hh:d(2),a:c(i,a,!0),A:c(i,a,!1),m:String(a),mm:D.s(a,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:r};return s.replace(g,(function(t,e){return e||m[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(s,c,f){var m,g=D.p(c),y=A(s),p=(y.utcOffset()-this.utcOffset())*e,T=this-y,w=D.m(this,y);return w=(m={},m[d]=w/12,m[l]=w,m[h]=w/3,m[u]=(T-p)/6048e5,m[o]=(T-p)/864e5,m[a]=T/n,m[i]=T/e,m[r]=T/t,m)[g]||T,f?w:D.a(w)},p.daysInMonth=function(){return this.endOf(l).$D},p.$locale=function(){return x[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),s=S(t,e,!0);return s&&(n.$L=s),n},p.clone=function(){return D.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},y}(),C=M.prototype;return A.prototype=C,[["$ms",s],["$s",r],["$m",i],["$H",a],["$W",o],["$M",l],["$y",d],["$D",c]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),A.extend=function(t,e){return t.$i||(t(e,M,A),t.$i=!0),A},A.locale=S,A.isDayjs=$,A.unix=function(t){return A(1e3*t)},A.en=x[w],A.Ls=x,A.p={},A}()}(a);var o,u,l,h=e(a.exports);function d(t,e){t.assign("day",e.date()),t.assign("month",e.month()+1),t.assign("year",e.year())}!function(t){t[t.AM=0]="AM",t[t.PM=1]="PM"}(o||(o={})),function(t){t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY"}(u||(u={})),function(t){t[t.JANUARY=1]="JANUARY",t[t.FEBRUARY=2]="FEBRUARY",t[t.MARCH=3]="MARCH",t[t.APRIL=4]="APRIL",t[t.MAY=5]="MAY",t[t.JUNE=6]="JUNE",t[t.JULY=7]="JULY",t[t.AUGUST=8]="AUGUST",t[t.SEPTEMBER=9]="SEPTEMBER",t[t.OCTOBER=10]="OCTOBER",t[t.NOVEMBER=11]="NOVEMBER",t[t.DECEMBER=12]="DECEMBER"}(l||(l={}));const c={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:120,timezoneOffsetNonDst:60,dstStart:t=>m(t,l.MARCH,u.SUNDAY,2),dstEnd:t=>m(t,l.OCTOBER,u.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-300,timezoneOffsetNonDst:-360,dstStart:t=>f(t,l.MARCH,u.SUNDAY,2,2),dstEnd:t=>f(t,l.NOVEMBER,u.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-240,timezoneOffsetNonDst:-300,dstStart:t=>f(t,l.MARCH,u.SUNDAY,2,2),dstEnd:t=>f(t,l.NOVEMBER,u.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-360,timezoneOffsetNonDst:-420,dstStart:t=>f(t,l.MARCH,u.SUNDAY,2,2),dstEnd:t=>f(t,l.NOVEMBER,u.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-420,timezoneOffsetNonDst:-480,dstStart:t=>f(t,l.MARCH,u.SUNDAY,2,2),dstEnd:t=>f(t,l.NOVEMBER,u.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function f(t,e,n,s,r=0){let i=0,a=0;for(;a<s;){i++;new Date(t,e-1,i).getDay()===n&&a++}return new Date(t,e-1,i,r)}function m(t,e,n,s=0){const r=0===n?7:n,i=new Date(t,e-1+1,1,12),a=0===i.getDay()?7:i.getDay();let o;return o=a===r?7:a<r?7+a-r:a-r,i.setDate(i.getDate()-o),new Date(t,e-1,i.getDate(),s)}function g(t,e,n={}){var s;if(null==t)return null;if("number"==typeof t)return t;const r=null!==(s=n[t])&&void 0!==s?s:c[t];return null==r?null:"number"==typeof r?r:null==e?null:h(e).isAfter(r.dstStart(e.getFullYear()))&&!h(e).isAfter(r.dstEnd(e.getFullYear()))?r.timezoneOffsetDuringDst:r.timezoneOffsetNonDst}h.extend(i);class y{constructor(t){var e;(t=null!=t?t:new Date)instanceof Date?this.instant=t:(this.instant=null!==(e=t.instant)&&void 0!==e?e:new Date,this.timezoneOffset=g(t.timezone,this.instant))}getDateWithAdjustedTimezone(){return new Date(this.instant.getTime()+6e4*this.getSystemTimezoneAdjustmentMinute(this.instant))}getSystemTimezoneAdjustmentMinute(t,e){var n;(!t||t.getTime()<0)&&(t=new Date);const s=-t.getTimezoneOffset();return s-(null!==(n=null!=e?e:this.timezoneOffset)&&void 0!==n?n:s)}}class p{constructor(t,e){if(this._tags=new Set,this.reference=t,this.knownValues={},this.impliedValues={},e)for(const t in e)this.knownValues[t]=e[t];const n=h(t.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(t){return t in this.knownValues?this.knownValues[t]:t in this.impliedValues?this.impliedValues[t]:null}isCertain(t){return t in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(t,e){return t in this.knownValues||(this.impliedValues[t]=e),this}assign(t,e){return this.knownValues[t]=e,delete this.impliedValues[t],this}delete(t){delete this.knownValues[t],delete this.impliedValues[t]}clone(){const t=new p(this.reference);t.knownValues={},t.impliedValues={};for(const e in this.knownValues)t.knownValues[e]=this.knownValues[e];for(const e in this.impliedValues)t.impliedValues[e]=this.impliedValues[e];return t}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const t=this.dateWithoutTimezoneAdjustment();return t.getFullYear()===this.get("year")&&(t.getMonth()===this.get("month")-1&&(t.getDate()===this.get("day")&&((null==this.get("hour")||t.getHours()==this.get("hour"))&&(null==this.get("minute")||t.getMinutes()==this.get("minute")))))}toString(){return`[ParsingComponents {\n            tags: ${JSON.stringify(Array.from(this._tags).sort())}, \n            knownValues: ${JSON.stringify(this.knownValues)}, \n            impliedValues: ${JSON.stringify(this.impliedValues)}}, \n            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return h(this.date())}date(){const t=this.dateWithoutTimezoneAdjustment(),e=this.reference.getSystemTimezoneAdjustmentMinute(t,this.get("timezoneOffset"));return new Date(t.getTime()+6e4*e)}addTag(t){return this._tags.add(t),this}addTags(t){for(const e of t)this._tags.add(e);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const t=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return t.setFullYear(this.get("year")),t}static createRelativeFromReference(t,e){let n=h(t.instant);for(const t in e)n=n.add(e[t],t);const s=new p(t);var r,i;return e.hour||e.minute||e.second?(i=n,(r=s).assign("hour",i.hour()),r.assign("minute",i.minute()),r.assign("second",i.second()),r.assign("millisecond",i.millisecond()),r.get("hour")<12?r.assign("meridiem",o.AM):r.assign("meridiem",o.PM),d(s,n),null!==t.timezoneOffset&&s.assign("timezoneOffset",-t.instant.getTimezoneOffset())):(!function(t,e){t.imply("hour",e.hour()),t.imply("minute",e.minute()),t.imply("second",e.second()),t.imply("millisecond",e.millisecond())}(s,n),null!==t.timezoneOffset&&s.imply("timezoneOffset",-t.instant.getTimezoneOffset()),e.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):(e.week&&s.imply("weekday",n.day()),s.imply("day",n.date()),e.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),e.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}}class T{constructor(t,e,n,s,r){this.reference=t,this.refDate=t.instant,this.index=e,this.text=n,this.start=s||new p(t),this.end=r}clone(){const t=new T(this.reference,this.index,this.text);return t.start=this.start?this.start.clone():null,t.end=this.end?this.end.clone():null,t}date(){return this.start.date()}tags(){const t=new Set(this.start.tags());if(this.end)for(const e of this.end.tags())t.add(e);return t}toString(){const t=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(t)} ...}]`}}function w(t){return t<100&&(t+=t>50?1900:2e3),t}function x(t,e,n){const s=h(t);let r=s;r=r.month(n-1),r=r.date(e),r=r.year(s.year());const i=r.add(1,"y"),a=r.add(-1,"y");return Math.abs(i.diff(s))<Math.abs(r.diff(s))?r=i:Math.abs(a.diff(s))<Math.abs(r.diff(s))&&(r=a),r.year()}function $(t,e){const n=e.replace(/\((?!\?)/g,"(?:");return`${t}${n}\\s{0,5}(?:,?\\s{0,5}${n}){0,10}`}function S(t){const e=function(t){let e;return e=t instanceof Array?[...t]:t instanceof Map?Array.from(t.keys()):Object.keys(t),e}(t).sort(((t,e)=>e.length-t.length)).join("|").replace(/\./g,"\\.");return`(?:${e})`}const A={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},D={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},M=Object.assign(Object.assign({},D),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12}),C={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},O={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},P=Object.assign({s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"},O),E=`(?:${S({one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12})}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`,R=`(?:${S(C)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function v(t){let e=t.toLowerCase();return void 0!==C[e]?C[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const N="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function b(t){if(/BE/i.test(t))return t=t.replace(/BE/i,""),parseInt(t)-543;if(/BCE?/i.test(t))return t=t.replace(/BCE?/i,""),-parseInt(t);if(/(AD|CE)/i.test(t))return t=t.replace(/(AD|CE)/i,""),parseInt(t);return w(parseInt(t))}const Y=`(${E})\\s{0,3}(${S(P)})`,k=`(${E})\\s{0,3}(${S(O)})`;$("(?:(?:about|around)\\s{0,3})?",Y),$("(?:(?:about|around)\\s{0,3})?",k);class W{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(t,e){return this.innerPattern(t)!==e}patternLeftBoundary(){return"(\\W|^)"}pattern(t){return this.cachedInnerPattern&&!this.innerPatternHasChange(t,this.cachedInnerPattern)||(this.cachedInnerPattern=this.innerPattern(t),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags)),this.cachedPattern}extract(t,e){var n;const s=null!==(n=e[1])&&void 0!==n?n:"";e.index=e.index+s.length,e[0]=e[0].substring(s.length);for(let t=2;t<e.length;t++)e[t-1]=e[t];return this.innerExtract(t,e)}}const U=new RegExp(`(?:on\\s{0,3})?(${R})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${R}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${S(M)})(?:(?:-|/|,?\\s{0,3})(${N}(?![^\\s]\\d)))?(?=\\W|$)`,"i");class V extends W{innerPattern(){return U}innerExtract(t,e){const n=t.createParsingResult(e.index,e[0]),s=M[e[3].toLowerCase()],r=v(e[1]);if(r>31)return e.index=e.index+e[1].length,null;if(n.start.assign("month",s),n.start.assign("day",r),e[4]){const t=b(e[4]);n.start.assign("year",t)}else{const e=x(t.refDate,r,s);n.start.imply("year",e)}if(e[2]){const t=v(e[2]);n.end=n.start.clone(),n.end.assign("day",t)}return n}}const z=new RegExp(`(${S(M)})(?:-|/|\\s*,?\\s*)(${R})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${R})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${N}))?(?=\\W|$)(?!\\:\\d)`,"i");class H extends W{constructor(t){super(),this.shouldSkipYearLikeDate=t}innerPattern(){return z}innerExtract(t,e){const n=M[e[1].toLowerCase()],s=v(e[2]);if(s>31)return null;if(this.shouldSkipYearLikeDate&&!e[3]&&!e[4]&&e[2].match(/^2[0-5]$/))return null;const r=t.createParsingComponents({day:s,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(e[4]){const t=b(e[4]);r.assign("year",t)}else{const e=x(t.refDate,s,n);r.imply("year",e)}if(!e[3])return r;const i=v(e[3]),a=t.createParsingResult(e.index,e[0]);return a.start=r,a.end=r.clone(),a.end.assign("day",i),a}}const I=new RegExp(`((?:in)\\s*)?(${S(M)})\\s*(?:[,-]?\\s*(${N})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i");class F extends W{innerPattern(){return I}innerExtract(t,e){const n=e[2].toLowerCase();if(e[0].length<=3&&!D[n])return null;const s=t.createParsingResult(e.index+(e[1]||"").length,e.index+e[0].length);s.start.imply("day",1),s.start.addTag("parser/ENMonthNameParser");const r=M[n];if(s.start.assign("month",r),e[3]){const t=b(e[3]);s.start.assign("year",t)}else{const e=x(t.refDate,1,r);s.start.imply("year",e)}return s}}class B{constructor(t=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=t}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(t){return this.getPrimaryTimePatternThroughCache()}extract(t,e){const n=this.extractPrimaryTimeComponents(t,e);if(!n)return e.index+=e[0].length,null;const s=e.index+e[1].length,r=e[0].substring(e[1].length),i=t.createParsingResult(s,r,n);e.index+=e[0].length;const a=t.text.substring(e.index),o=this.getFollowingTimePatternThroughCache().exec(a);return r.match(/^\d{3,4}/)&&o&&o[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!o||o[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(i):(i.end=this.extractFollowingTimeComponents(t,o,i),i.end&&(i.text+=o[0]),this.checkAndReturnWithFollowingPattern(i))}extractPrimaryTimeComponents(t,e,n=!1){const s=t.createParsingComponents();let r=0,i=null,a=parseInt(e[2]);if(a>100){if(this.strictMode||null!=e[3])return null;r=a%100,a=Math.floor(a/100)}if(a>24)return null;if(null!=e[3]){if(1==e[3].length&&!e[6])return null;r=parseInt(e[3])}if(r>=60)return null;if(a>12&&(i=o.PM),null!=e[6]){if(a>12)return null;const t=e[6][0].toLowerCase();"a"==t&&(i=o.AM,12==a&&(a=0)),"p"==t&&(i=o.PM,12!=a&&(a+=12))}if(s.assign("hour",a),s.assign("minute",r),null!==i?s.assign("meridiem",i):a<12?s.imply("meridiem",o.AM):s.imply("meridiem",o.PM),null!=e[5]){const t=parseInt(e[5].substring(0,3));if(t>=1e3)return null;s.assign("millisecond",t)}if(null!=e[4]){const t=parseInt(e[4]);if(t>=60)return null;s.assign("second",t)}return s}extractFollowingTimeComponents(t,e,n){const s=t.createParsingComponents();if(null!=e[5]){const t=parseInt(e[5].substring(0,3));if(t>=1e3)return null;s.assign("millisecond",t)}if(null!=e[4]){const t=parseInt(e[4]);if(t>=60)return null;s.assign("second",t)}let r=parseInt(e[2]),i=0,a=-1;if(null!=e[3]?i=parseInt(e[3]):r>100&&(i=r%100,r=Math.floor(r/100)),i>=60||r>24)return null;if(r>=12&&(a=o.PM),null!=e[6]){if(r>12)return null;const t=e[6][0].toLowerCase();"a"==t&&(a=o.AM,12==r&&(r=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),"p"==t&&(a=o.PM,12!=r&&(r+=12)),n.start.isCertain("meridiem")||(a==o.AM?(n.start.imply("meridiem",o.AM),12==n.start.get("hour")&&n.start.assign("hour",0)):(n.start.imply("meridiem",o.PM),12!=n.start.get("hour")&&n.start.assign("hour",n.start.get("hour")+12)))}if(s.assign("hour",r),s.assign("minute",i),a>=0)s.assign("meridiem",a);else{n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>r?s.imply("meridiem",o.AM):r<=12&&(s.assign("hour",r+12),s.assign("meridiem",o.PM)):r>12?s.imply("meridiem",o.PM):r<=12&&s.imply("meridiem",o.AM)}return s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(t){if(t.text.match(/^\d$/))return null;if(t.text.match(/^\d\d\d+$/))return null;if(t.text.match(/\d[apAP]$/))return null;const e=t.text.match(/[^\d:.](\d[\d.]+)$/);if(e){const t=e[1];if(this.strictMode)return null;if(t.includes(".")&&!t.match(/\d(\.\d{2})+$/))return null;if(parseInt(t)>24)return null}return t}checkAndReturnWithFollowingPattern(t){if(t.text.match(/^\d+-\d+$/))return null;const e=t.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(e){if(this.strictMode)return null;const t=e[1],n=e[2];if(n.includes(".")&&!n.match(/\d(\.\d{2})+$/))return null;const s=parseInt(n),r=parseInt(t);if(s>24||r>24)return null}return t}getPrimaryTimePatternThroughCache(){const t=this.primaryPrefix(),e=this.primarySuffix();return this.cachedPrimaryPrefix===t&&this.cachedPrimarySuffix===e||(this.cachedPrimaryTimePattern=function(t,e,n,s){return new RegExp(`${t}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${n}`,s)}(this.primaryPatternLeftBoundary(),t,e,this.patternFlags()),this.cachedPrimaryPrefix=t,this.cachedPrimarySuffix=e),this.cachedPrimaryTimePattern}getFollowingTimePatternThroughCache(){const t=this.followingPhase(),e=this.followingSuffix();return this.cachedFollowingPhase===t&&this.cachedFollowingSuffix===e||(this.cachedFollowingTimePatten=function(t,e){return new RegExp(`^(${t})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}(t,e),this.cachedFollowingPhase=t,this.cachedFollowingSuffix=e),this.cachedFollowingTimePatten}}class L extends B{constructor(t){super(t)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(t,e){const n=super.extractPrimaryTimeComponents(t,e);if(!n)return n;if(e[0].endsWith("night")){const t=n.get("hour");t>=6&&t<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",o.PM)):t<6&&n.assign("meridiem",o.AM)}if(e[0].endsWith("afternoon")){n.assign("meridiem",o.PM);const t=n.get("hour");t>=0&&t<=6&&n.assign("hour",n.get("hour")+12)}if(e[0].endsWith("morning")){n.assign("meridiem",o.AM);n.get("hour")<12&&n.assign("hour",n.get("hour"))}return n.addTag("parser/ENTimeExpressionParser")}}class j{refine(t,e){return e.filter((e=>this.isValid(t,e)))}}class _{refine(t,e){if(e.length<2)return e;const n=[];let s=e[0],r=null;for(let i=1;i<e.length;i++){r=e[i];const a=t.text.substring(s.index+s.text.length,r.index);if(this.shouldMergeResults(a,s,r,t)){const e=s,n=r,i=this.mergeResults(a,e,n,t);t.debug((()=>{console.log(`${this.constructor.name} merged ${e} and ${n} into ${i}`)})),s=i}else n.push(s),s=r}return null!=s&&n.push(s),n}}class G extends _{shouldMergeResults(t,e,n){return!e.end&&!n.end&&null!=t.match(this.patternBetween())}mergeResults(t,e,n){if(e.start.isOnlyWeekdayComponent()||n.start.isOnlyWeekdayComponent()||(n.start.getCertainComponents().forEach((t=>{e.start.isCertain(t)||e.start.imply(t,n.start.get(t))})),e.start.getCertainComponents().forEach((t=>{n.start.isCertain(t)||n.start.imply(t,e.start.get(t))}))),e.start.date().getTime()>n.start.date().getTime()){let t=e.start.dayjs(),s=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&s.add(7,"days").isAfter(t)?(s=s.add(7,"days"),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year())):e.start.isOnlyWeekdayComponent()&&t.add(-7,"days").isBefore(s)?(t=t.add(-7,"days"),e.start.imply("day",t.date()),e.start.imply("month",t.month()+1),e.start.imply("year",t.year())):n.start.isDateWithUnknownYear()&&s.add(1,"years").isAfter(t)?(s=s.add(1,"years"),n.start.imply("year",s.year())):e.start.isDateWithUnknownYear()&&t.add(-1,"years").isBefore(s)?(t=t.add(-1,"years"),e.start.imply("year",t.year())):[n,e]=[e,n]}const s=e.clone();return s.start=e.start,s.end=n.start,s.index=Math.min(e.index,n.index),e.index<n.index?s.text=e.text+t+n.text:s.text=n.text+t+e.text,s}}class K extends G{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function J(t,e){const n=t.clone(),s=t.start,r=e.start;if(n.start=Z(s,r),null!=t.end||null!=e.end){const s=Z(null==t.end?t.start:t.end,null==e.end?e.start:e.end);if(null==t.end&&s.date().getTime()<n.start.date().getTime()){const t=s.dayjs().add(1,"day");s.isCertain("day")?d(s,t):(a=t,(i=s).imply("day",a.date()),i.imply("month",a.month()+1),i.imply("year",a.year()))}n.end=s}var i,a;return n}function Z(t,e){const n=t.clone();return e.isCertain("hour")?(n.assign("hour",e.get("hour")),n.assign("minute",e.get("minute")),e.isCertain("second")?(n.assign("second",e.get("second")),e.isCertain("millisecond")?n.assign("millisecond",e.get("millisecond")):n.imply("millisecond",e.get("millisecond"))):(n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond")))):(n.imply("hour",e.get("hour")),n.imply("minute",e.get("minute")),n.imply("second",e.get("second")),n.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&n.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?n.assign("meridiem",e.get("meridiem")):null!=e.get("meridiem")&&null==n.get("meridiem")&&n.imply("meridiem",e.get("meridiem")),n.get("meridiem")==o.PM&&n.get("hour")<12&&(e.isCertain("hour")?n.assign("hour",n.get("hour")+12):n.imply("hour",n.get("hour")+12)),n.addTags(t.tags()),n.addTags(e.tags()),n}class q extends _{shouldMergeResults(t,e,n){return(e.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&e.start.isOnlyTime())&&null!=t.match(this.patternBetween())}mergeResults(t,e,n){const s=e.start.isOnlyDate()?J(e,n):J(n,e);return s.index=e.index,s.text=e.text+t+n.text,s}}class Q extends q{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}}const X=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class tt{constructor(t){this.timezoneOverrides=t}refine(t,e){var n;const s=null!==(n=t.option.timezones)&&void 0!==n?n:{};return e.forEach((e=>{var n,r;const i=t.text.substring(e.index+e.text.length),a=X.exec(i);if(!a)return;const o=a[1].toUpperCase(),u=null!==(r=null!==(n=e.start.date())&&void 0!==n?n:e.refDate)&&void 0!==r?r:new Date,l=Object.assign(Object.assign({},this.timezoneOverrides),s),h=g(o,u,l);if(null==h)return;t.debug((()=>{console.log(`Extracting timezone: '${o}' into: ${h} for: ${e.start}`)}));const d=e.start.get("timezoneOffset");if(null!==d&&h!=d){if(e.start.isCertain("timezoneOffset"))return;if(o!=a[1])return}e.start.isOnlyDate()&&o!=a[1]||(e.text+=a[0],e.start.isCertain("timezoneOffset")||e.start.assign("timezoneOffset",h),null==e.end||e.end.isCertain("timezoneOffset")||e.end.assign("timezoneOffset",h))})),e}}const et=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i");class nt{refine(t,e){return e.forEach((function(e){if(e.start.isCertain("timezoneOffset"))return;const n=t.text.substring(e.index+e.text.length),s=et.exec(n);if(!s)return;t.debug((()=>{console.log(`Extracting timezone: '${s[0]}' into : ${e}`)}));let r=60*parseInt(s[2])+parseInt(s[3]||"0");r>840||("-"===s[1]&&(r=-r),null!=e.end&&e.end.assign("timezoneOffset",r),e.start.assign("timezoneOffset",r),e.text+=s[0])})),e}}class st{refine(t,e){if(e.length<2)return e;const n=[];let s=e[0];for(let r=1;r<e.length;r++){const i=e[r];if(i.index>=s.index+s.text.length){n.push(s),s=i;continue}let a=null,o=null;i.text.length>s.text.length?(a=i,o=s):(a=s,o=i),t.debug((()=>{console.log(`${this.constructor.name} remove ${o} by ${a}`)})),s=a}return null!=s&&n.push(s),n}}class rt extends j{constructor(t){super(),this.strictMode=t}isValid(t,e){return e.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(t.debug((()=>{console.log(`Removing unlikely result '${e.text}'`)})),!1):e.start.isValidDate()?e.end&&!e.end.isValidDate()?(t.debug((()=>{console.log(`Removing invalid result: ${e} (${e.end})`)})),!1):!this.strictMode||this.isStrictModeValid(t,e):(t.debug((()=>{console.log(`Removing invalid result: ${e} (${e.start})`)})),!1)}isStrictModeValid(t,e){return e.start.isOnlyWeekdayComponent()?(t.debug((()=>{console.log(`(Strict) Removing weekday only component: ${e} (${e.end})`)})),!1):!!(!e.start.isOnlyTime()||e.start.isCertain("hour")&&e.start.isCertain("minute"))||(t.debug((()=>{console.log(`(Strict) Removing uncertain time component: ${e} (${e.end})`)})),!1)}}class it extends _{mergeResults(t,e,n){const s=n.clone();return s.index=e.index,s.text=e.text+t+s.text,s.start.assign("weekday",e.start.get("weekday")),s.end&&s.end.assign("weekday",e.start.get("weekday")),s}shouldMergeResults(t,e,n){return e.start.isOnlyWeekdayComponent()&&!e.start.isCertain("hour")&&n.start.isCertain("day")&&null!=t.match(/^,?\s*$/)}}function at(t,e,n){const s=function(t,e,n){const s=t.getDay();switch(n){case"this":return ot(t,e);case"last":return ut(t,e);case"next":return s==u.SUNDAY?e==u.SUNDAY?7:e:s==u.SATURDAY?e==u.SATURDAY?7:e==u.SUNDAY?8:1+e:e<s&&e!=u.SUNDAY?ot(t,e):ot(t,e)+7}return function(t,e){const n=ut(t,e),s=ot(t,e);return s<-n?s:n}(t,e)}(t.getDateWithAdjustedTimezone(),e,n);let r=new p(t);return r=function(t,e){const n=t.clone();let s=t.dayjs();for(const t in e)s=s.add(e[t],t);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(n.imply("day",s.date()),n.imply("month",s.month()+1),n.imply("year",s.year())),("second"in e||"minute"in e||"hour"in e)&&(n.imply("second",s.second()),n.imply("minute",s.minute()),n.imply("hour",s.hour())),n}(r,{day:s}),r.assign("weekday",e),r}function ot(t,e){let n=e-t.getDay();return n<0&&(n+=7),n}function ut(t,e){let n=e-t.getDay();return n>=0&&(n-=7),n}const lt=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${S(A)})(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i");class ht extends W{innerPattern(){return lt}innerExtract(t,e){const n=e[2].toLowerCase(),s=A[n],r=e[1],i=e[3];let a=r||i;a=a||"",a=a.toLowerCase();let o=null;return"last"==a||"past"==a?o="last":"next"==a?o="next":"this"==a&&(o="this"),at(t.reference,s,o)}}const dt=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i");class ct{constructor(t){this.groupNumberMonth=t?3:2,this.groupNumberDay=t?2:3}pattern(){return dt}extract(t,e){if(0==e[1].length&&e.index>0&&e.index<t.text.length){const n=t.text[e.index-1];if(n>="0"&&n<="9")return}const n=e.index+e[1].length,s=e[0].substr(e[1].length,e[0].length-e[1].length-e[5].length);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/))return;if(!e[4]&&e[0].indexOf("/")<0)return;const r=t.createParsingResult(n,s);let i=parseInt(e[this.groupNumberMonth]),a=parseInt(e[this.groupNumberDay]);if((i<1||i>12)&&i>12){if(!(a>=1&&a<=12&&i<=31))return null;[a,i]=[i,a]}if(a<1||a>31)return null;if(r.start.assign("day",a),r.start.assign("month",i),e[4]){const t=w(parseInt(e[4]));r.start.assign("year",t)}else{const e=x(t.refDate,a,i);r.start.imply("year",e)}return r}}class ft{createCasualConfiguration(t=!1){const e=this.createConfiguration(!1,t);return e.parsers.push(new F),e}createConfiguration(t=!0,e=!1){const n=function(t,e=!1){return t.refiners.unshift(new it),t.refiners.unshift(new nt),t.refiners.push(new tt),t.refiners.push(new st),t.refiners.push(new rt(e)),t}({parsers:[new ct(e),new V,new H(e),new ht,new L(t)],refiners:[new Q]},t);return n.refiners.unshift(new st),n.refiners.push(new Q),n.refiners.push(new K),n}}class mt{constructor(t){this.defaultConfig=new ft,t=t||this.defaultConfig.createCasualConfiguration(),this.parsers=[...t.parsers],this.refiners=[...t.refiners]}clone(){return new mt({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(t,e,n){const s=this.parse(t,e,n);return s.length>0?s[0].start.date():null}parse(t,e,n){const s=new gt(t,e,n);let r=[];return this.parsers.forEach((t=>{const e=mt.executeParser(s,t);r=r.concat(e)})),r.sort(((t,e)=>t.index-e.index)),this.refiners.forEach((function(t){r=t.refine(s,r)})),r}static executeParser(t,e){const n=[],s=e.pattern(t),r=t.text;let i=t.text,a=s.exec(i);for(;a;){const o=a.index+r.length-i.length;a.index=o;const u=e.extract(t,a);if(!u){i=r.substring(a.index+1),a=s.exec(i);continue}let l=null;u instanceof T?l=u:u instanceof p?(l=t.createParsingResult(a.index,a[0]),l.start=u):l=t.createParsingResult(a.index,a[0],u);const h=l.index,d=l.text;t.debug((()=>console.log(`${e.constructor.name} extracted (at index=${h}) '${d}'`))),n.push(l),i=r.substring(h+d.length),a=s.exec(i)}return n}}class gt{constructor(t,e,n){this.text=t,this.reference=new y(e),this.option=null!=n?n:{},this.refDate=this.reference.instant}createParsingComponents(t){return t instanceof p?t:new p(this.reference,t)}createParsingResult(t,e,n,s){const r="string"==typeof e?e:this.text.substring(t,e),i=n?this.createParsingComponents(n):null,a=s?this.createParsingComponents(s):null;return new T(this.reference,t,r,i,a)}debug(t){if(this.option.debug)if(this.option.debug instanceof Function)this.option.debug(t);else{this.option.debug.debug(t)}}}const yt=new ft,pt=new mt(yt.createCasualConfiguration(!1));return t.Chrono=mt,t.casual=pt,t.parseDate=function(t,e,n){return pt.parseDate(t,e,n)},t.tzmap=c,t}({});
